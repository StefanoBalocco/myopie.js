<html>
<head>
	<title>Test</title>
</head>
<body>
	<div id="testcontainer"></div>
	<style>.gutter { width:100px } </style>
	<script type="module">
import Myopie from 'https://unpkg.com/myopie.js/myopie.min.js';
//import Myopie from "./myopie.js";

function render( data ) {
	return "<div><input type='text' name='testText' value='" + data.content.string + "'></div>";
}
const myopie = new Myopie( document, "#testcontainer", render, [ ['input[name="testText"]', 'content/string']] );
myopie.set( 'content/string', 'foo' );
setTimeout( () => {
console.log( 'Timeout 1');
myopie.set( 'content/string', 'bar' );
myopie.set( 'content/string', 'foobar' );
}, 3000 );
console.log( myopie.get( 'content/string' ) );
setTimeout( () => {
console.log( 'Timeout 2');
console.log( myopie.get( 'content/string' ) );
myopie.set( 'content/string', 'foobarfoo' );
}, 4000 );
setTimeout( () => {
console.log( 'Timeout 3');
console.log( myopie.get( 'content/string' ) );
}, 15000 );
	</script>
</body>
</html>
